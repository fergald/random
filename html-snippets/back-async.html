<p>Click "go back" and it will execute history.back() and then schedule a timeout-0 task to increment this number in localStorage.

<p>When you go forward again you should see that the task ran (you might need to reload if it was BFCached).

<p>This demonstrates that history.back() is not synchronous.

<div id=num>
</div>
<div onclick="goBack()">go back</div>

<script>
  const value = (localStorage.getItem("k") || "");
  num.textContent = value.length;

  function goBack() {
    history.back();
    setTimeout(() => {
      localStorage.setItem("k", value+"x");
    }, 0);
  }
</script>
